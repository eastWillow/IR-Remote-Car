C51 COMPILER V9.52.0.0   IR_REMOTE_CAR                                                     07/11/2014 15:40:54 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE IR_REMOTE_CAR
OBJECT MODULE PLACED IN IR-Remote-Car.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE IR-Remote-Car.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /*
   2          TA7267
   3          IN1 IN2 OUT1 OUT2
   4           1   1    L    L
   5           0   1    L    H backward
   6           1   0    H    L forward
   7           0   0    Z    Z
   8          */
   9          /*
  10          YELLOW
  11          BLACK
  12          RED
  13          YELLOW
  14          ORANGE
  15          BLUE
  16          */
  17          #include <STC12C5A60S2.H>
  18          #include <..\UD_Lib\8051\UART.h>
  19          #define ALL_WIDTH 20000 //20ms
  20          #define CENTER 10000 //10ms
  21          #define CLOCK_LIMITER 5000 //5ms
  22          #define COUNTER_CLOCKWISE_LIMITER 150000 //15ms
  23          #define FULL 65535
  24          sbit SERVOMOTOR1=P1^3; //PWM I/O
  25          sbit LIMITSWITCH=P3^2; // INT0
  26          sbit IR_RECEIVER=P3^3; // INT1
  27          sbit IN1=P0^1;
  28          sbit IN2=P0^2;
  29          unsigned int servoMotorLowTime = 15000;
  30          unsigned int servoMotorHighTime = 5000;
  31          void Delay1ms();
  32          void setup();
  33          void main(){
  34   1        setup();
  35   1        TR0 = 1;// start Timer 0
  36   1        while(1){
  37   2        }
  38   1      }
  39          void setup(){
  40   1        EA = 1;
  41   1        ET0 = 1;
  42   1        TR0 = 0; //reset Timer0 Switch
  43   1        TMOD = 0x01; //0000 0010
  44   1        TL0 = servoMotorLowTime & 0xff;
  45   1        TH0 = servoMotorLowTime >> 8;
  46   1        SERVOMOTOR1 = 0;
  47   1      }
  48          void servoMotor () interrupt 1 {
  49   1        TR0 = 0;
  50   1        if(SERVOMOTOR1){
  51   2          TL0 = (FULL - servoMotorLowTime) & 0xff;
  52   2          TH0 = (FULL - servoMotorLowTime) >> 8;
  53   2          SERVOMOTOR1 = 0;
  54   2        }
  55   1        else{
C51 COMPILER V9.52.0.0   IR_REMOTE_CAR                                                     07/11/2014 15:40:54 PAGE 2   

  56   2          TL0 = (FULL - servoMotorHighTime) & 0x0f;
  57   2          TH0 = (FULL - servoMotorHighTime) >> 8;
  58   2          SERVOMOTOR1 = 1;
  59   2        }
  60   1        TR0 = 1;
  61   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    316    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     14       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
